// Baseline skills

new entry "Vamp_Claws"
type "SpellData"
data "SpellType" "Target"
using "Target_Claws"
data "SpellProperties" ""
data "SpellSuccess" "DealDamage(1d4+DexterityModifier,Slashing)"
data "DisplayName" "hf0329964ga2d7g4d80gbc4eg7731d21131e5"
data "TooltipDamageList" "DealDamage(1d4+DexterityModifier,Slashing)"
data "TargetConditions" "not Self() and not Dead()"
data "UseCosts" "ActionPoint:1"
data "Icon" "Action_Imp_Claws"

//essentially just a renamed grapple, just incase common actions are overwritten 
new entry "Vamp_Claws_DrKGrapple"
type "SpellData"
data "SpellType" "Target"
data "AIFlags" "IgnoreDebuff"
data "SpellProperties" "RemoveStatus(SLEEP);RemoveStatus(SLEEPING);AI_ONLY:ApplyStatus(AI_HELPER_DEBUFF,100,1)"
data "TargetCeiling" "0"
data "TargetFloor" ".25"
data "TargetRadius" "1.5"
data "SpellRoll" "UnarmedAttack"
data "SpellSuccess" ""
data "TargetConditions" "HasFreeHand() and not Self() and CanGrappleTargetSize() and IsMovable() and not Grounded() and not Tagged('GASEOUS_FORM') and not HasStatus('SG_Unconscious') and not Tagged('CANT_SHOVE_THROW')"
data "Icon" "GenericIcon_DamageType_Physical"
data "DisplayName" "hd5951139g56f7g4643g8ae5g5c080d3b9378"
data "Description" "h8749f53cg349eg49ecg8599gf37706840f57;1"
data "PrepareSound" "Generic_GeneralAction_Start"
data "PrepareLoopSound" "Generic_GeneralAction_Loop"
data "CastSound" "Action_Cast_Shove"
data "PreviewCursor" "Melee"
data "CastTextEvent" "Cast"
data "CycleConditions" "not Grounded()"
data "UseCosts" "ActionPoint:1"
data "SpellAnimation" "0319ca29-4024-4649-9278-3c1f20c5f023,,;a71e11ca-95ab-463d-a4bf-fe8094126b61,,;352c3a89-f99c-4472-8424-58c0ffb15e55,,;a57fc614-ed20-4574-936b-bdcc6cebd36a,,;b24b3f23-6d3a-43ce-ae3a-abfb44d26082,,;200ab854-a989-4a6a-8ac9-4b20aecaccda,,;eadedcce-d01b-4fbb-a1ae-d218f13aa5d6,,;,,;,,"
data "VerbalIntent" "Utility"
data "SpellFlags" "IsMelee;IsHarmful;CombatLogSetSingleLineRoll"
data "RequirementConditions" ""
data "HitAnimationType" "PhysicalDamage"
data "SpellAnimationIntentType" "Peaceful"
data "PrepareEffect" "c512042e-a04f-4a02-af7a-16f30e11ed95"
data "CastEffect" "3fdf3e73-59a3-4518-9521-35f40374d048"
data "TargetEffect" "5d8c64e3-f9ff-4ee0-b0b6-2a081c7244a8"
data "SpellSoundMagnitude" "Small"
data "Sheathing" "DontChange"

new entry "Vamp_Bite"
type "SpellData"
data "SpellType" "Target"
using "Target_VampireBite_Astarion"
data "Cooldown" "OncePerTurn"
data "SpellProperties" ""
data "SpellRoll" "Attack(AttackType.MeleeSpellAttack)"
data "SpellSuccess" "IF(HasPassive('Vamp_BloodPool6')):DealDamage(1d6+DexterityModifier, Piercing,Magical);IF(HasPassive('Vamp_BloodPool6')):DealDamage(LevelMapValue(Vamp_BiteNecrotic), Necrotic,Magical);IF(not HasPassive('Vamp_BloodPool6')):DealDamage(1d6+DexterityModifier, Piercing);IF(not HasPassive('Vamp_BloodPool6')):DealDamage(LevelMapValue(Vamp_BiteNecrotic), Necrotic);ApplyStatus(Vamp_LIFE_DRAIN,100,-1);TARGET:IF(SizeEqualOrGreater(Size.Small) and not Tagged('HUMANOID')):RestoreResource(SELF, Vamp_BloodPool,1,0);TARGET:IF(Tagged('HUMANOID')):RestoreResource(SELF, Vamp_BloodPool,2,0);TARGET:IF((not Dead() and not Tagged('REALLY_GALE') and not (Tagged('REALLY_KARLACH') and not Tagged('KARLACH_CAN_TOUCH')))):RegainHitPoints(SELF, LevelMapValue(Vamp_BiteNecrotic));TARGET:IF((Dead() or Tagged('REALLY_GALE'))):ApplyStatus(SELF, POISONED, 100, 3); TARGET:IF((Tagged('REALLY_KARLACH') and not Tagged('KARLACH_CAN_TOUCH') and not Dead())):ApplyStatus(SELF, BURNING, 100, 3);"
data "TargetConditions" "not Self() and not Item() and not Tagged('UNDEAD') and not Tagged('PLANT') and not Tagged('ELEMENTAL') and not Tagged('CONSTRUCT') and not Tagged('OOZE') and not HasStatus('SG_Petrified',context.Target) and (HasStatus('SG_Stunned',context.Target) or HasStatus('SG_Unconscious',context.Target) or HasStatus('SG_Prone',context.Target) or HasStatus('SG_Sleeping',context.Target) or HasStatus('HIDEOUS_LAUGHTER',context.Target) or HasStatus('SG_Charmed',context.Target) or HasStatus('SG_Incapacitated',context.Target) or HasStatus('SG_Restrained',context.Target) or HasStatus('GRAPPLED',context.Target))"
data "Description" "h09ae6612gf871g4d05g8e5eg55731e37adef"
data "ExtraDescription" ""
data "DescriptionParams" "RegainHitPoints(LevelMapValue(Vamp_BiteNecrotic));DealDamage(1d6+DexterityModifier,Piercing);DealDamage(LevelMapValue(Vamp_BiteNecrotic),Necrotic);"
data "TooltipDamageList" "DealDamage(1d6+DexterityModifier,Piercing);DealDamage(LevelMapValue(Vamp_BiteNecrotic),Necrotic);"
data "TooltipAttackSave" "MeleeSpellAttack"
data "TooltipStatusApply" ""
data "UseCosts" "ActionPoint:1"

//Blood Features ----------------------------------------------

new entry "Shout_SelectBloodFeatures"
type "SpellData"
data "SpellType" "Shout"
data "ContainerSpells" "Shout_SelectAgonizing_Bite;Shout_SelectBeguilingGaze;Shout_SelectDrainingBite;Shout_SelectEcholocation;Shout_SelectNecrology;Shout_SelectNightStalker;Shout_SelectNimbleMovement;Shout_SelectShovingAttack;Shout_SelectSpiesInTheNight;Shout_SelectVampiricAgility;Shout_SelectRiposte;Shout_SelectAssassinFang;Shout_SelectMistyEscape;Shout_SelectBloodBarrier;"
data "TargetConditions" "Self()"
data "Icon" "GenericIcon_DamageType_Necrotic"
data "DisplayName" "hb8c1d92fg8bffg4811ga2cegf1d6cd014ddf"
data "Description" "h81b54b34g2229g4578gb1e0g1269dbba2c6b"
data "ExtraDescription" ""
data "CastTextEvent" "Cast"
data "UseCosts" "Vamp_BloodFeature:1"
data "SpellAnimation" ""
data "VerbalIntent" "Utility"
data "SpellFlags" "IsLinkedSpellContainer"

new entry "Shout_RemoveBloodFeatures"
type "SpellData"
data "SpellType" "Shout"
data "SpellProperties" "IF(HasStatus('Vamp_StatusAgonizingBite')):RestoreResource(SELF, Vamp_BloodFeature,1,0);IF(HasStatus('Vamp_StatusAgonizingBite')):RemoveStatus(Vamp_StatusAgonizingBite);IF(HasStatus('Vamp_StatusBeguilingGaze')):RestoreResource(SELF, Vamp_BloodFeature,1,0);IF(HasStatus('Vamp_StatusBeguilingGaze')):RemoveStatus(Vamp_StatusBeguilingGaze);IF(HasStatus('Vamp_StatusDrainingBite')):RestoreResource(SELF, Vamp_BloodFeature,1,0);IF(HasStatus('Vamp_StatusDrainingBite')):RemoveStatus(Vamp_StatusDrainingBite);IF(HasStatus('Vamp_StatusEcholocation')):RestoreResource(SELF, Vamp_BloodFeature,1,0);IF(HasStatus('Vamp_StatusEcholocation')):RemoveStatus(Vamp_StatusEcholocation);IF(HasStatus('Vamp_StatusNecrology')):RestoreResource(SELF, Vamp_BloodFeature,1,0);IF(HasStatus('Vamp_StatusNecrology')):RemoveStatus(Vamp_StatusNecrology);IF(HasStatus('Vamp_StatusNightStalker')):RestoreResource(SELF, Vamp_BloodFeature,1,0);IF(HasStatus('Vamp_StatusNightStalker')):RemoveStatus(Vamp_StatusNightStalker);IF(HasStatus('Vamp_StatusNimbleMovement')):RestoreResource(SELF, Vamp_BloodFeature,1,0);IF(HasStatus('Vamp_StatusNimbleMovement')):RemoveStatus(Vamp_StatusNimbleMovement);IF(HasStatus('Vamp_StatusShovingAttack')):RestoreResource(SELF, Vamp_BloodFeature,1,0);IF(HasStatus('Vamp_StatusShovingAttack')):RemoveStatus(Vamp_StatusShovingAttack);IF(HasStatus('Vamp_StatusSpiesInTheNight')):RestoreResource(SELF, Vamp_BloodFeature,1,0);IF(HasStatus('Vamp_StatusSpiesInTheNight')):RemoveStatus(Vamp_StatusSpiesInTheNight);IF(HasStatus('Vamp_StatusVampiricAgility')):RestoreResource(SELF, Vamp_BloodFeature,1,0);IF(HasStatus('Vamp_StatusVampiricAgility')):RemoveStatus(Vamp_StatusVampiricAgility);IF(HasStatus('Vamp_StatusRiposte')):RestoreResource(SELF, Vamp_BloodFeature,1,0);IF(HasStatus('Vamp_StatusRiposte')):RemoveStatus(Vamp_StatusRiposte);IF(HasStatus('Vamp_StatusAssassinFang')):RestoreResource(SELF, Vamp_BloodFeature,1,0);IF(HasStatus('Vamp_StatusAssassinFang')):RemoveStatus(Vamp_StatusAssassinFang);IF(HasStatus('Vamp_StatusMistyEscape')):RestoreResource(SELF, Vamp_BloodFeature,1,0);IF(HasStatus('Vamp_StatusMistyEscape')):RemoveStatus(Vamp_StatusMistyEscape);IF(HasStatus('Vamp_StatusBloodBarrier')):RestoreResource(SELF, Vamp_BloodFeature,1,0);IF(HasStatus('Vamp_StatusBloodBarrier')):RemoveStatus(Vamp_StatusBloodBarrier);"
data "Icon" "Skill_Druid_WildShape_Dismiss"
data "DisplayName" "hbf99b3a8gbdf5g492agb9aegc4a08898aec6"
data "Description" "h45c74bfbga54cg4bd3gaad3ga0b97dbe88b0"
data "DescriptionParams" ""
data "PrepareSound" ""
data "PrepareLoopSound" ""
data "CastSound" "Action_Cast_SecondWind"
data "SpellAnimation" "9122eb08-93f1-4010-a275-f5ae3ec7c76e,,;,,;9fb11cca-02d4-4d2f-955f-2826c0553b17,,;5103d398-d8de-4aa4-9633-db2e1b7f6254,,;5301d674-b7da-47b6-b4cf-2802ba33a9e9,,;,,;86b3cf93-21fb-4a3d-bed9-97d0a567d084,,;,,;,,"
data "SpellFlags" ""
data "PrepareEffect" ""
data "CastEffect" ""
data "Cooldown" "OncePerRest"

//----------------------------------------------------------------
//for individual shouts do IF(ClassLevelHigherOrEqualThan(x,'Vampire'):Apply the correct stat. If less then do IF(not ClassLevelHigherOrEqualThan(x,'Vampire')):RestoreResource(SELF, Vamp_BloodFeature,y,0)
//IF(not ClassLevelHigherOrEqualThan(4,'Druid')):ApplyStatus(WILDSHAPE_BADGER_PLAYER,100,-1);IF(ClassLevelHigherOrEqualThan(4,'Druid') and not ClassLevelHigherOrEqualThan(6,'Druid')):ApplyStatus(WILDSHAPE_BADGER_PLAYER_4,100,-1);IF(ClassLevelHigherOrEqualThan(6,'Druid') and not ClassLevelHigherOrEqualThan(8,'Druid')):ApplyStatus(WILDSHAPE_BADGER_PLAYER_6,100,-1);IF(ClassLevelHigherOrEqualThan(8,'Druid') and not ClassLevelHigherOrEqualThan(10,'Druid')):ApplyStatus(WILDSHAPE_BADGER_PLAYER_8,100,-1);IF(ClassLevelHigherOrEqualThan(10,'Druid')and not ClassLevelHigherOrEqualThan(12,'Druid')):ApplyStatus(WILDSHAPE_BADGER_PLAYER_10,100,-1);IF(ClassLevelHigherOrEqualThan(12,'Druid')):ApplyStatus(WILDSHAPE_BADGER_PLAYER_12,100,-1)

//No Req

new entry "Shout_SelectAgonizing_Bite"
type "SpellData"
data "SpellType" "Shout"
using "Shout_SelectBloodFeatures"
data "SpellContainerID" "Shout_SelectBloodFeatures"
data "ContainerSpells" ""
data "RequirementConditions" "not HasStatus('Vamp_StatusAgonizingBite') and HasPassive('Vamp_BloodPool1');"
data "SpellProperties" "ApplyStatus(Vamp_StatusAgonizingBite,100,-1)"
data "Icon" "Action_VampireBite"
data "DisplayName" "hbfbaa147ge979g42a9g8083gf2db46f454b2"
data "Description" "h1aa40631g67a8g4a6dgbd4eg6d750d27061b"
data "DescriptionParams" ""
data "PrepareSound" ""
data "PrepareLoopSound" ""
data "CastSound" "Action_Cast_SecondWind"
data "SpellAnimation" "9122eb08-93f1-4010-a275-f5ae3ec7c76e,,;,,;9fb11cca-02d4-4d2f-955f-2826c0553b17,,;5103d398-d8de-4aa4-9633-db2e1b7f6254,,;5301d674-b7da-47b6-b4cf-2802ba33a9e9,,;,,;86b3cf93-21fb-4a3d-bed9-97d0a567d084,,;,,;,,"
data "SpellFlags" ""
data "PrepareEffect" ""
data "CastEffect" ""

// new entry "Vamp_Agonizing_Bite"
// type "SpellData"
// data "SpellType" "Target"
// using "Vamp_Bite"
// data "SpellFlags" "IsMelee;Stealth;IsHarmful;CannotTargetTerrain;CannotTargetItems;Temporary"
// data "DisplayName" "hbfbaa147ge979g42a9g8083gf2db46f454b2"
// data "SpellSuccess" "IF(HasPassive('Vamp_BloodPool6')):DealDamage(1d6+DexterityModifier, Piercing,Magical);IF(HasPassive('Vamp_BloodPool6')):DealDamage(LevelMapValue(Vamp_BiteNecrotic)+CharismaModifier, Necrotic,Magical);IF(not HasPassive('Vamp_BloodPool6')):DealDamage(1d6+DexterityModifier, Piercing);IF(not HasPassive('Vamp_BloodPool6')):DealDamage(LevelMapValue(Vamp_BiteNecrotic)+CharismaModifier, Necrotic);ApplyStatus(Vamp_LIFE_DRAIN,100,-1);TARGET:IF(SizeEqualOrGreater(Size.Small) and not Tagged('HUMANOID')):RestoreResource(SELF, Vamp_BloodPool,1,0);TARGET:IF(Tagged('HUMANOID')):RestoreResource(SELF, Vamp_BloodPool,2,0);TARGET:IF((not Dead() and not Tagged('REALLY_GALE') and not (Tagged('REALLY_KARLACH') and not Tagged('KARLACH_CAN_TOUCH')))):RegainHitPoints(SELF, LevelMapValue(Vamp_BiteNecrotic)+CharismaModifier);TARGET:IF((Dead() or Tagged('REALLY_GALE'))):ApplyStatus(SELF, POISONED, 100, 3); TARGET:IF((Tagged('REALLY_KARLACH') and not Tagged('KARLACH_CAN_TOUCH') and not Dead())):ApplyStatus(SELF, BURNING, 100, 3);"
// data "DescriptionParams" "RegainHitPoints(LevelMapValue(Vamp_BiteNecrotic)+CharismaModifier);DealDamage(1d6+DexterityModifier,Piercing);DealDamage(LevelMapValue(Vamp_BiteNecrotic)+CharismaModifier,Necrotic);"
// data "TooltipDamageList" "DealDamage(1d6+DexterityModifier,Piercing);DealDamage(LevelMapValue(Vamp_BiteNecrotic)+CharismaModifier,Necrotic);"


new entry "Shout_SelectBeguilingGaze"
type "SpellData"
data "SpellType" "Shout"
using "Shout_SelectBloodFeatures"
data "SpellContainerID" "Shout_SelectBloodFeatures"
data "ContainerSpells" ""
data "RequirementConditions" "not HasStatus('Vamp_StatusBeguilingGaze') and HasPassive('Vamp_BloodPool2');"
data "SpellProperties" "ApplyStatus(Vamp_StatusBeguilingGaze,100,-1)"
data "Icon" "Spell_Enchantment_CharmPerson"
data "DisplayName" "h081f33ecg527ag4357ga6a3gb5cb77f69bff"
data "Description" "h66800adbgb5a1g44fdg8ce2g7b8c7cb6286d"
data "DescriptionParams" ""
data "PrepareSound" ""
data "PrepareLoopSound" ""
data "CastSound" "Action_Cast_SecondWind"
data "SpellAnimation" "9122eb08-93f1-4010-a275-f5ae3ec7c76e,,;,,;9fb11cca-02d4-4d2f-955f-2826c0553b17,,;5103d398-d8de-4aa4-9633-db2e1b7f6254,,;5301d674-b7da-47b6-b4cf-2802ba33a9e9,,;,,;86b3cf93-21fb-4a3d-bed9-97d0a567d084,,;,,;,,"
data "SpellFlags" ""
data "PrepareEffect" ""
data "CastEffect" ""

new entry "Vamp_BeguilingGaze"
type "SpellData"
data "SpellType" "Target"
using "Target_CharmPerson"
data "DisplayName" "h081f33ecg527ag4357ga6a3gb5cb77f69bff"
data "UseCosts" "ActionPoint:1;Vamp_BloodPool:2"
data "RechargeValues" ""
data "MemoryCost" "" 

new entry "Shout_SelectDrainingBite"
type "SpellData"
data "SpellType" "Shout"
using "Shout_SelectBloodFeatures"
data "SpellContainerID" "Shout_SelectBloodFeatures"
data "ContainerSpells" ""
data "RequirementConditions" "not HasStatus('Vamp_StatusDrainingBite') and HasPassive('Vamp_BloodPool2');"
data "SpellProperties" "ApplyStatus(Vamp_StatusDrainingBite,100,-1)"
data "Icon" "Action_VampireBite"
data "DisplayName" "h7a3508acga44eg4603g9fb7ge182386402da"
data "Description" "h4ddaa83fgff27g4bd9g894fgf657e0702afb"
data "DescriptionParams" ""
data "PrepareSound" ""
data "PrepareLoopSound" ""
data "CastSound" "Action_Cast_SecondWind"
data "SpellAnimation" "9122eb08-93f1-4010-a275-f5ae3ec7c76e,,;,,;9fb11cca-02d4-4d2f-955f-2826c0553b17,,;5103d398-d8de-4aa4-9633-db2e1b7f6254,,;5301d674-b7da-47b6-b4cf-2802ba33a9e9,,;,,;86b3cf93-21fb-4a3d-bed9-97d0a567d084,,;,,;,,"
data "SpellFlags" ""
data "PrepareEffect" ""
data "CastEffect" ""

new entry "Vamp_Bonus_Bite"
type "SpellData"
data "SpellType" "Target"
using "Vamp_Bite"
data "SpellFlags" "Temporary"
data "Cooldown" ""
data "TargetConditions" "not Self() and not Item() and not Tagged('UNDEAD') and not Tagged('PLANT') and not Tagged('ELEMENTAL') and not Tagged('CONSTRUCT') and not Tagged('OOZE')"
data "UseCosts" "BonusActionPoint:1;Vamp_BloodPool:2"

// new entry "Vamp_BonusAgonizing_Bite"
// type "SpellData"
// data "SpellType" "Target"
// using "Vamp_Agonizing_Bite"
// data "SpellFlags" "Temporary"
// data "SpellSuccess" "DealDamage(1d6+DexterityModifier, Piercing);DealDamage(LevelMapValue(Vamp_BiteNecrotic)+CharismaModifier, Necrotic);ApplyStatus(Vamp_LIFE_DRAIN,100,-1);TARGET:IF(SizeEqualOrGreater(Size.Small) and not Tagged('HUMANOID')):ApplyStatus(Vamp_RestoreBloodPool1,100,1);TARGET:IF(Tagged('HUMANOID')):ApplyStatus(Vamp_RestoreBloodPool2,100,1);TARGET:IF((not Dead() and not Tagged('REALLY_GALE') and not (Tagged('REALLY_KARLACH') and not Tagged('KARLACH_CAN_TOUCH')))):RegainHitPoints(SELF, LevelMapValue(Vamp_BiteNecrotic)+CharismaModifier);TARGET:IF((Dead() or Tagged('REALLY_GALE'))):ApplyStatus(SELF, POISONED, 100, 3); TARGET:IF((Tagged('REALLY_KARLACH') and not Tagged('KARLACH_CAN_TOUCH') and not Dead())):ApplyStatus(SELF, BURNING, 100, 3);"
// data "Cooldown" ""
// data "TargetConditions" "not Self() and not Item() and not Tagged('UNDEAD') and not Tagged('PLANT') and not Tagged('ELEMENTAL') and not Tagged('CONSTRUCT') and not Tagged('OOZE')"
// data "UseCosts" "BonusActionPoint:1;Vamp_BloodPool:2"

new entry "Shout_SelectEcholocation"
type "SpellData"
data "SpellType" "Shout"
using "Shout_SelectBloodFeatures"
data "SpellContainerID" "Shout_SelectBloodFeatures"
data "ContainerSpells" ""
data "RequirementConditions" "not HasStatus('Vamp_StatusEcholocation') and HasPassive('Vamp_BloodPool2');"
data "SpellProperties" "ApplyStatus(Vamp_StatusEcholocation,100,-1)"
data "Icon" "PassiveFeature_Generic_Darkness"
data "DisplayName" "h7f7db409g26feg4f5dg9e3bgf0f91c79957f"
data "Description" "h6fcfb624g4d4bg4823g8883g6f228d619a61"
data "DescriptionParams" ""
data "PrepareSound" ""
data "PrepareLoopSound" ""
data "CastSound" "Action_Cast_SecondWind"
data "SpellAnimation" "9122eb08-93f1-4010-a275-f5ae3ec7c76e,,;,,;9fb11cca-02d4-4d2f-955f-2826c0553b17,,;5103d398-d8de-4aa4-9633-db2e1b7f6254,,;5301d674-b7da-47b6-b4cf-2802ba33a9e9,,;,,;86b3cf93-21fb-4a3d-bed9-97d0a567d084,,;,,;,,"
data "SpellFlags" ""
data "PrepareEffect" ""
data "CastEffect" ""

new entry "Vamp_SpellEcholocation"
type "SpellData"
data "SpellType" "Shout"
data "SpellProperties" "ApplyStatus(Vamp_StatusEcholocationTechnical,100,10)"
data "TargetConditions" "Self()"
data "Icon" "PassiveFeature_Generic_Darkness"
data "DisplayName" "h7f7db409g26feg4f5dg9e3bgf0f91c79957f"
data "Description" "h6fcfb624g4d4bg4823g8883g6f228d619a61"
data "CastSound" "Action_Cast_SecondWind"
data "CastTextEvent" "Cast"
data "SpellAnimation" "9122eb08-93f1-4010-a275-f5ae3ec7c76e,,;,,;9fb11cca-02d4-4d2f-955f-2826c0553b17,,;5103d398-d8de-4aa4-9633-db2e1b7f6254,,;5301d674-b7da-47b6-b4cf-2802ba33a9e9,,;,,;86b3cf93-21fb-4a3d-bed9-97d0a567d084,,;,,;,,"
data "UseCosts" "ActionPoint:1;Vamp_BloodPool:2"

// new entry "Shout_SelectHemophilia"
// type "SpellData"
// data "SpellType" "Shout"
// using "Shout_SelectBloodFeatures"
// data "SpellContainerID" "Shout_SelectBloodFeatures"
// data "ContainerSpells" ""
// data "RequirementConditions" "not HasStatus('Vamp_StatusHemophilia') and HasPassive('Vamp_BloodPool1');"
// data "SpellProperties" "ApplyStatus(Vamp_StatusHemophilia,100,-1)"
// data "Icon" "GenericIcon_Intent_Healing"
// data "DisplayName" "h7f7db409g26feg4f5dg9e3bgf0f91c79957f"
// data "Description" "h6fcfb624g4d4bg4823g8883g6f228d619a61"
// data "DescriptionParams" ""
// data "PrepareSound" ""
// data "PrepareLoopSound" ""
// data "CastSound" "Action_Cast_SecondWind"
// data "SpellAnimation" "9122eb08-93f1-4010-a275-f5ae3ec7c76e,,;,,;9fb11cca-02d4-4d2f-955f-2826c0553b17,,;5103d398-d8de-4aa4-9633-db2e1b7f6254,,;5301d674-b7da-47b6-b4cf-2802ba33a9e9,,;,,;86b3cf93-21fb-4a3d-bed9-97d0a567d084,,;,,;,,"
// data "SpellFlags" ""
// data "PrepareEffect" ""
// data "CastEffect" ""

new entry "Shout_SelectNecrology"
type "SpellData"
data "SpellType" "Shout"
using "Shout_SelectBloodFeatures"
data "SpellContainerID" "Shout_SelectBloodFeatures"
data "ContainerSpells" ""
data "RequirementConditions" "not HasStatus('Vamp_StatusNecrology') and HasPassive('Vamp_BloodPool1');"
data "SpellProperties" "ApplyStatus(Vamp_StatusNecrology,100,-1)"
data "Icon" "GenericIcon_DamageType_Necrotic"
data "DisplayName" "he5093590g7576g4172g8419gb789085ad728"
data "Description" "h98e5c053g7160g48b0g9f6ag6f123613c14b"
data "DescriptionParams" ""
data "PrepareSound" ""
data "PrepareLoopSound" ""
data "CastSound" "Action_Cast_SecondWind"
data "SpellAnimation" "9122eb08-93f1-4010-a275-f5ae3ec7c76e,,;,,;9fb11cca-02d4-4d2f-955f-2826c0553b17,,;5103d398-d8de-4aa4-9633-db2e1b7f6254,,;5301d674-b7da-47b6-b4cf-2802ba33a9e9,,;,,;86b3cf93-21fb-4a3d-bed9-97d0a567d084,,;,,;,,"
data "SpellFlags" ""
data "PrepareEffect" ""
data "CastEffect" ""

new entry "Shout_SelectNightStalker"
type "SpellData"
data "SpellType" "Shout"
using "Shout_SelectBloodFeatures"
data "SpellContainerID" "Shout_SelectBloodFeatures"
data "ContainerSpells" ""
data "RequirementConditions" "not HasStatus('Vamp_StatusNightStalker') and HasPassive('Vamp_BloodPool2');"
data "SpellProperties" "ApplyStatus(Vamp_StatusNightStalker,100,-1)"
data "Icon" "Action_Warlock_OneWithShadows"
data "DisplayName" "hce9e36f8g6fbeg4f5ega0efg016e789cc143"
data "Description" "hce4e0d93ge91bg4454ga2d4gc691687d33a7"
data "DescriptionParams" ""
data "PrepareSound" ""
data "PrepareLoopSound" ""
data "CastSound" "Action_Cast_SecondWind"
data "SpellAnimation" "9122eb08-93f1-4010-a275-f5ae3ec7c76e,,;,,;9fb11cca-02d4-4d2f-955f-2826c0553b17,,;5103d398-d8de-4aa4-9633-db2e1b7f6254,,;5301d674-b7da-47b6-b4cf-2802ba33a9e9,,;,,;86b3cf93-21fb-4a3d-bed9-97d0a567d084,,;,,;,,"
data "SpellFlags" ""
data "PrepareEffect" ""
data "CastEffect" ""

new entry "Vamp_SpellNightStalker"
type "SpellData"
data "SpellType" "Shout"
data "SpellProperties" "ApplyStatus(Vamp_StatusNightStalkerTechnical,100,100)"
data "TargetConditions" "Self()"
data "Icon" "Action_Warlock_OneWithShadows"
data "DisplayName" "hce9e36f8g6fbeg4f5ega0efg016e789cc143"
data "Description" "hce4e0d93ge91bg4454ga2d4gc691687d33a7"
data "CastSound" "Action_Cast_SecondWind"
data "CastTextEvent" "Cast"
data "SpellAnimation" "9122eb08-93f1-4010-a275-f5ae3ec7c76e,,;,,;9fb11cca-02d4-4d2f-955f-2826c0553b17,,;5103d398-d8de-4aa4-9633-db2e1b7f6254,,;5301d674-b7da-47b6-b4cf-2802ba33a9e9,,;,,;86b3cf93-21fb-4a3d-bed9-97d0a567d084,,;,,;,,"
data "UseCosts" "ActionPoint:1;Vamp_BloodPool:2"

new entry "Shout_SelectNimbleMovement"
type "SpellData"
data "SpellType" "Shout"
using "Shout_SelectBloodFeatures"
data "SpellContainerID" "Shout_SelectBloodFeatures"
data "ContainerSpells" ""
data "RequirementConditions" "not HasStatus('Vamp_StatusNimbleMovement') and HasPassive('Vamp_BloodPool2');"
data "SpellProperties" "ApplyStatus(Vamp_StatusNimbleMovement,100,-1)"
data "Icon" "Action_Monk_StepOfTheWind_Dash"
data "DisplayName" "h3cb906c4g5540g407egb369gac39c71bd43c"
data "Description" "h951885e9ge864g4570gbd77ge60dad4fe5ea"
data "DescriptionParams" ""
data "PrepareSound" ""
data "PrepareLoopSound" ""
data "CastSound" "Action_Cast_SecondWind"
data "SpellAnimation" "9122eb08-93f1-4010-a275-f5ae3ec7c76e,,;,,;9fb11cca-02d4-4d2f-955f-2826c0553b17,,;5103d398-d8de-4aa4-9633-db2e1b7f6254,,;5301d674-b7da-47b6-b4cf-2802ba33a9e9,,;,,;86b3cf93-21fb-4a3d-bed9-97d0a567d084,,;,,;,,"
data "SpellFlags" ""
data "PrepareEffect" ""
data "CastEffect" ""

new entry "Vamp_SpellNimbleMovement_Dash"
type "SpellData"
data "SpellType" "Shout"
using "Shout_Dash_BonusAction"
data "UseCosts" "BonusActionPoint:1;Vamp_BloodPool:2"

new entry "Vamp_SpellNimbleMovement_Disengage"
type "SpellData"
data "SpellType" "Shout"
using "Shout_Disengage_BonusAction"
data "SpellFlags" "Temporary;NoCameraMove"
data "UseCosts" "BonusActionPoint:1;Vamp_BloodPool:2"

new entry "Shout_SelectShovingAttack"
type "SpellData"
data "SpellType" "Shout"
using "Shout_SelectBloodFeatures"
data "SpellContainerID" "Shout_SelectBloodFeatures"
data "ContainerSpells" ""
data "RequirementConditions" "not HasStatus('Vamp_StatusShovingAttack') and HasPassive('Vamp_BloodPool2');"
data "SpellProperties" "ApplyStatus(Vamp_StatusShovingAttack,100,-1)"
data "Icon" "Action_PushingAttack_Melee"
data "DisplayName" "hda170f8cg1297g4e25g9c31g7e5178919d78"
data "Description" "h79032d1dga5d0g4803ga7ccg4306c545540f"
data "DescriptionParams" ""
data "PrepareSound" ""
data "PrepareLoopSound" ""
data "CastSound" "Action_Cast_SecondWind"
data "SpellAnimation" "9122eb08-93f1-4010-a275-f5ae3ec7c76e,,;,,;9fb11cca-02d4-4d2f-955f-2826c0553b17,,;5103d398-d8de-4aa4-9633-db2e1b7f6254,,;5301d674-b7da-47b6-b4cf-2802ba33a9e9,,;,,;86b3cf93-21fb-4a3d-bed9-97d0a567d084,,;,,;,,"
data "SpellFlags" ""
data "PrepareEffect" ""
data "CastEffect" ""

new entry "Shout_SelectSpiesInTheNight"
type "SpellData"
data "SpellType" "Shout"
using "Shout_SelectBloodFeatures"
data "SpellContainerID" "Shout_SelectBloodFeatures"
data "ContainerSpells" ""
data "RequirementConditions" "not HasStatus('Vamp_StatusSpiesInTheNight') and HasPassive('Vamp_BloodPool1');"
data "SpellProperties" "ApplyStatus(Vamp_StatusSpiesInTheNight,100,-1)"
data "Icon" "PassiveFeature_Generic_WildAnimal"
data "DisplayName" "hb3d447c9gb2e2g40d7ga41dga80f26823e34"
data "Description" "hb8890138g2805g4e87ga272g26b787c4fcb6"
data "DescriptionParams" ""
data "PrepareSound" ""
data "PrepareLoopSound" ""
data "CastSound" "Action_Cast_SecondWind"
data "SpellAnimation" "9122eb08-93f1-4010-a275-f5ae3ec7c76e,,;,,;9fb11cca-02d4-4d2f-955f-2826c0553b17,,;5103d398-d8de-4aa4-9633-db2e1b7f6254,,;5301d674-b7da-47b6-b4cf-2802ba33a9e9,,;,,;86b3cf93-21fb-4a3d-bed9-97d0a567d084,,;,,;,,"
data "SpellFlags" ""
data "PrepareEffect" ""
data "CastEffect" ""

new entry "Target_Vamp_SpiesInTheNight"
type "SpellData"
data "SpellType" "Target"
data "Level" ""
data "SpellSchool" ""
data "ContainerSpells" "Target_Vamp_FindFamiliar_Rat;Target_Vamp_FindFamiliar_Raven"
data "Cooldown" "OncePerShortRest"
data "TargetRadius" "18"
data "RequirementConditions" "TutorialSummonBlockCheck()"
data "RequirementEvents" "OnStatusRemoved;OnStatusApplied"
data "Icon" "Spell_Conjuration_FindFamiliar"
data "DisplayName" "h7cdde2cagd199g498bg8ae1gf693a97f57cc;1"
data "Description" "h90a8893dg8023g4be2gbcd2gfa1857d7c23f;2"
data "TooltipUpcastDescription" "6ff1780a-855a-414c-a8bf-811251537206"
data "CastSound" "Spell_Cast_Summon_FindFamiliar_L1to3"
data "TargetSound" "Spell_Impact_Summon_FindFamiliar_L1to3"
data "CastTextEvent" "Cast"
data "UseCosts" "ActionPoint:1;Vamp_BloodPool:1"
data "RitualCosts" "ActionPoint:1;Vamp_BloodPool:1"
data "SpellAnimation" "6f42f5f3-7a5a-4441-a02e-71b0450ac4b7,,;,,;605d49b4-03b9-47f6-96e9-7f80e6be7514,,;fbf20742-9dbf-475b-9ff5-42e4b08064ad,,;42aaefdc-cf9b-4249-b159-285041851f69,,;,,;20e11c98-fff9-4417-88de-5bcc2368a1bd,,;,,;,,"
data "VerbalIntent" "Summon"
data "SpellStyleGroup" "Class"
data "SpellFlags" "IsSpell;HasSomaticComponent;HasVerbalComponent;HasHighGroundRangeExtension;IsLinkedSpellContainer;CannotTargetCharacter;CannotTargetItems"
data "MemoryCost" ""
data "PrepareEffect" "739617e8-1255-4429-8b96-cc86296e0366"
data "CastEffect" "23d05225-027b-4656-97f8-564b185d37a2"
data "DamageType" "Psychic"

new entry "Target_Vamp_FindFamiliar_Rat"
type "SpellData"
data "SpellType" "Target"
using "Target_Vamp_SpiesInTheNight"
data "SpellContainerID" "Target_Vamp_SpiesInTheNight"
data "ContainerSpells" ""
data "SpellProperties" "GROUND:IF(IsImprovedPactOfTheChain()):Summon(d779b7f9-2c7b-4f85-b914-f09e00c117f2, Permanent,,,'FindFamiliarStack',UNSUMMON_ABLE,EXTRA_ATTACK_THIRSTING_BLADE_TECHNICAL,Vamp_StatusSpiesInTheNightTechnical,SHADOWCURSE_SUMMON_CHECK);GROUND:IF(not IsImprovedPactOfTheChain()):Summon(d779b7f9-2c7b-4f85-b914-f09e00c117f2, Permanent,,,'FindFamiliarStack',UNSUMMON_ABLE,Vamp_StatusSpiesInTheNightTechnical,SHADOWCURSE_SUMMON_CHECK)"
data "TargetConditions" "CanStand('d779b7f9-2c7b-4f85-b914-f09e00c117f2') and not Character() and not Self()"
data "Icon" "Spell_Conjuration_FindFamiliar_Rat"
data "DisplayName" "hacf2a45bg24ebg4a3ega2b1gc157a1b738d2;1"
data "Description" "h8d547a2fg2225g4052g86c9g1a7a03f6c207;3"
data "CastSound" "Spell_Cast_Summon_FindFamiliar_L1to3"
data "TargetSound" "Spell_Impact_Summon_FindFamiliar_L1to3"
data "PrepareEffect" "f14fc064-bbc3-4cfc-bfd4-409d821b114e"

new entry "Target_Vamp_FindFamiliar_Raven"
type "SpellData"
data "SpellType" "Target"
using "Target_Vamp_SpiesInTheNight"
data "SpellContainerID" "Target_Vamp_SpiesInTheNight"
data "ContainerSpells" ""
data "SpellProperties" "GROUND:IF(IsImprovedPactOfTheChain()):Summon(ecdffa46-80bd-41d2-8a50-4460a2810672, Permanent,,,'FindFamiliarStack',UNSUMMON_ABLE,EXTRA_ATTACK_THIRSTING_BLADE_TECHNICAL,Vamp_StatusSpiesInTheNightTechnical,SHADOWCURSE_SUMMON_CHECK);GROUND:IF(not IsImprovedPactOfTheChain()):Summon(ecdffa46-80bd-41d2-8a50-4460a2810672, Permanent,,,'FindFamiliarStack',UNSUMMON_ABLE,Vamp_StatusSpiesInTheNightTechnical,SHADOWCURSE_SUMMON_CHECK)"
data "TargetConditions" "CanStand('ecdffa46-80bd-41d2-8a50-4460a2810672') and not Character() and not Self()"
data "Icon" "Spell_Conjuration_FindFamiliar_Raven"
data "DisplayName" "h6f341008gfad0g4868g817eg856bada1bff8;1"
data "Description" "h5f21bdf5g81ebg495fg864ag4f6686879bcb;4"
data "CastSound" "Spell_Cast_Summon_FindFamiliar_L1to3"
data "TargetSound" "Spell_Impact_Summon_FindFamiliar_L1to3"
data "PrepareEffect" "a74686e9-9ff0-4108-8f0d-107faa2bcd26"

new entry "Shout_SelectVampiricAgility"
type "SpellData"
data "SpellType" "Shout"
using "Shout_SelectBloodFeatures"
data "SpellContainerID" "Shout_SelectBloodFeatures"
data "ContainerSpells" ""
data "RequirementConditions" "not HasStatus('Vamp_StatusVampiricAgility') and HasPassive('Vamp_BloodPool1');"
data "SpellProperties" "ApplyStatus(Vamp_StatusVampiricAgility,100,-1)"
data "Icon" "PassiveFeature_UnarmoredMovement"
data "DisplayName" "h37b48a26g78ecg4feag84a5g55acdde99f1b"
data "Description" "h2a8850f4g8856g467bg92cag6a1d8267412b"
data "DescriptionParams" ""
data "PrepareSound" ""
data "PrepareLoopSound" ""
data "CastSound" "Action_Cast_SecondWind"
data "SpellAnimation" "9122eb08-93f1-4010-a275-f5ae3ec7c76e,,;,,;9fb11cca-02d4-4d2f-955f-2826c0553b17,,;5103d398-d8de-4aa4-9633-db2e1b7f6254,,;5301d674-b7da-47b6-b4cf-2802ba33a9e9,,;,,;86b3cf93-21fb-4a3d-bed9-97d0a567d084,,;,,;,,"
data "SpellFlags" ""
data "PrepareEffect" ""
data "CastEffect" ""

new entry "Shout_SelectRiposte"
type "SpellData"
data "SpellType" "Shout"
using "Shout_SelectBloodFeatures"
data "SpellContainerID" "Shout_SelectBloodFeatures"
data "ContainerSpells" ""
data "RequirementConditions" "not HasStatus('Vamp_StatusRiposte') and HasPassive('Vamp_BloodPool1');"
data "SpellProperties" "ApplyStatus(Vamp_StatusRiposte,100,-1)"
data "Icon" "PassiveFeature_Riposte"
data "DisplayName" "h8206f7fbg6fa5g4ceeg9411gbbb7ec7e11e8;1"
data "Description" "h0b8c0913g9219g41a3g8a45g3bd9cf679d58"
data "DescriptionParams" ""
data "PrepareSound" ""
data "PrepareLoopSound" ""
data "CastSound" "Action_Cast_SecondWind"
data "SpellAnimation" "9122eb08-93f1-4010-a275-f5ae3ec7c76e,,;,,;9fb11cca-02d4-4d2f-955f-2826c0553b17,,;5103d398-d8de-4aa4-9633-db2e1b7f6254,,;5301d674-b7da-47b6-b4cf-2802ba33a9e9,,;,,;86b3cf93-21fb-4a3d-bed9-97d0a567d084,,;,,;,,"
data "SpellFlags" ""
data "PrepareEffect" ""
data "CastEffect" ""

//Rq lvl 3

new entry "Shout_SelectAssassinFang"
type "SpellData"
data "SpellType" "Shout"
using "Shout_SelectBloodFeatures"
data "SpellContainerID" "Shout_SelectBloodFeatures"
data "ContainerSpells" ""
data "RequirementConditions" "not HasStatus('Vamp_StatusAssassinFang') and HasPassive('Vamp_BloodPool3');"
data "SpellProperties" "ApplyStatus(Vamp_StatusAssassinFang,100,-1)"
data "Icon" "Action_SneakAttack_Melee"
data "DisplayName" "h2c323f38gc077g497dg8b66gd1babf395ef4"
data "Description" "hba29a213g8bffg4a67gb214gd647f16ebfbc"
data "DescriptionParams" ""
data "PrepareSound" ""
data "PrepareLoopSound" ""
data "CastSound" "Action_Cast_SecondWind"
data "SpellAnimation" "9122eb08-93f1-4010-a275-f5ae3ec7c76e,,;,,;9fb11cca-02d4-4d2f-955f-2826c0553b17,,;5103d398-d8de-4aa4-9633-db2e1b7f6254,,;5301d674-b7da-47b6-b4cf-2802ba33a9e9,,;,,;86b3cf93-21fb-4a3d-bed9-97d0a567d084,,;,,;,,"
data "SpellFlags" ""
data "PrepareEffect" ""
data "CastEffect" ""

new entry "Vamp_AssassinFang"
type "SpellData"
data "SpellType" "Target"
using "Vamp_Bite"
data "DisplayName" "h2c323f38gc077g497dg8b66gd1babf395ef4"
data "Description" "hba29a213g8bffg4a67gb214gd647f16ebfbc"
data "SpellFlags" "Temporary"
data "TargetConditions" "not Self() and not Item() and not Tagged('UNDEAD') and not Tagged('PLANT') and not Tagged('ELEMENTAL') and not Tagged('CONSTRUCT') and not Tagged('OOZE') and not HasStatus('SG_Petrified',context.Target) and (HasStatus('SG_Stunned',context.Target) or HasStatus('SG_Unconscious',context.Target) or HasStatus('SG_Prone',context.Target) or HasStatus('SG_Sleeping',context.Target) or HasStatus('HIDEOUS_LAUGHTER',context.Target) or HasStatus('SG_Charmed',context.Target) or HasStatus('SG_Incapacitated',context.Target) or HasStatus('SG_Restrained',context.Target) or (((HasAdvantage() or HasAllyWithinRange('SG_Incapacitated',1.5)) and not HasDisadvantage()) and not Tagged('INANIMATE')) or HasStatus('SURPRISED') or HasStatus('GRAPPLED',context.Target))"

// new entry "Vamp_AssassinFangAgonizing"
// type "SpellData"
// data "SpellType" "Target"
// using "Vamp_Agonizing_Bite"
// data "TargetConditions" "not Self() and not Item() and not Tagged('UNDEAD') and not Tagged('PLANT') and not Tagged('ELEMENTAL') and not Tagged('CONSTRUCT') and not Tagged('OOZE') and not HasStatus('SG_Petrified',context.Target) and (HasStatus('SG_Stunned',context.Target) or HasStatus('SG_Unconscious',context.Target) or HasStatus('SG_Prone',context.Target) or HasStatus('SG_Sleeping',context.Target) or HasStatus('HIDEOUS_LAUGHTER',context.Target) or HasStatus('SG_Charmed',context.Target) or HasStatus('SG_Incapacitated',context.Target) or HasStatus('SG_Restrained',context.Target) or (((HasAdvantage() or HasAllyWithinRange('SG_Incapacitated',1.5)) and not HasDisadvantage()) and not Tagged('INANIMATE')) or HasStatus('SURPRISED') or HasStatus('GRAPPLED',context.Target))"

new entry "Shout_SelectMistyEscape"
type "SpellData"
data "SpellType" "Shout"
using "Shout_SelectBloodFeatures"
data "SpellContainerID" "Shout_SelectBloodFeatures"
data "ContainerSpells" ""
data "RequirementConditions" "not HasStatus('Vamp_StatusMistyEscape') and HasPassive('Vamp_BloodPool3');"
data "SpellProperties" "ApplyStatus(Vamp_StatusMistyEscape,100,-1)"
data "Icon" "PassiveFeature_MistyEscape"
data "DisplayName" "he7875c02gd065g4febg83a9g8dbbe4470aca"
data "Description" "ha7b80c7cg5bd5g4398g84b8g218709171b1f"
data "DescriptionParams" ""
data "PrepareSound" ""
data "PrepareLoopSound" ""
data "CastSound" "Action_Cast_SecondWind"
data "SpellAnimation" "9122eb08-93f1-4010-a275-f5ae3ec7c76e,,;,,;9fb11cca-02d4-4d2f-955f-2826c0553b17,,;5103d398-d8de-4aa4-9633-db2e1b7f6254,,;5301d674-b7da-47b6-b4cf-2802ba33a9e9,,;,,;86b3cf93-21fb-4a3d-bed9-97d0a567d084,,;,,;,,"
data "SpellFlags" ""
data "PrepareEffect" ""
data "CastEffect" ""

new entry "Shout_SelectBloodBarrier"
type "SpellData"
data "SpellType" "Shout"
using "Shout_SelectBloodFeatures"
data "SpellContainerID" "Shout_SelectBloodFeatures"
data "ContainerSpells" ""
data "RequirementConditions" "not HasStatus('Vamp_StatusBloodBarrier') and HasPassive('Vamp_BloodPool3');"
data "SpellProperties" "ApplyStatus(Vamp_StatusBloodBarrier,100,-1)"
data "Icon" "PassiveFeature_Shield"
data "DisplayName" "hfd3c6c9fg3bd9g4eb0gb7f0g410432af10f5"
data "Description" "hda484ec3ge30fg4902g9c3bgbd2d03abd4c7"
data "DescriptionParams" ""
data "PrepareSound" ""
data "PrepareLoopSound" ""
data "CastSound" "Action_Cast_SecondWind"
data "SpellAnimation" "9122eb08-93f1-4010-a275-f5ae3ec7c76e,,;,,;9fb11cca-02d4-4d2f-955f-2826c0553b17,,;5103d398-d8de-4aa4-9633-db2e1b7f6254,,;5301d674-b7da-47b6-b4cf-2802ba33a9e9,,;,,;86b3cf93-21fb-4a3d-bed9-97d0a567d084,,;,,;,,"
data "SpellFlags" ""
data "PrepareEffect" ""
data "CastEffect" ""
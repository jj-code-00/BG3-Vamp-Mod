// Baseline skills

new entry "Vamp_Claws"
type "SpellData"
data "SpellType" "Target"
using "Target_Claws"
data "SpellProperties" ""
data "SpellSuccess" "DealDamage(max(1d4),Slashing)"
data "DisplayName" "hf0329964ga2d7g4d80gbc4eg7731d21131e5"
data "TooltipDamageList" "DealDamage(1d4,Slashing)"
data "TargetConditions" "not Self() and not Dead()"
data "UseCosts" "ActionPoint:1"

new entry "Vamp_Claws_Grapple"
type "SpellData"
data "SpellType" "Target"
using "Target_Claws"
data "SpellRoll" "ShoveCheck()"
data "SpellSuccess" "ApplyStatus(RESTRAINED,100,2);ApplyStatus(SELF, Vamp_Grapple,100,1)"
data "DisplayName" "hd5951139g56f7g4643g8ae5g5c080d3b9378"
data "Description" "h61b948ffg3761g4b95gbc9ag132c338931da"
data "TooltipDamageList" ""
data "TargetConditions" "not Self() and not Dead() and CanShoveWeight() and IsMovable() and not Grounded() and not Tagged('GASEOUS_FORM') and not (not Player(context.Source) and Combat(context.Source) and Character() and not (Enemy() or HasStatus('SG_Unconscious'))) and not Tagged('CANT_SHOVE_THROW')"

new entry "Vamp_Bite"
type "SpellData"
data "SpellType" "Target"
using "Target_VampireBite_Astarion"
data "Cooldown" "OncePerTurn"
data "SpellProperties" ""
data "SpellRoll" "Attack(AttackType.MeleeSpellAttack)"
data "SpellSuccess" "DealDamage(1d6+DexterityModifier, Piercing);DealDamage(1d4, Necrotic);ApplyStatus(Vamp_LIFE_DRAIN,100,-1);TARGET:IF(SizeEqualOrGreater(Size.Small) and not Tagged('HUMANOID')):RestoreResource(SELF, Vamp_BloodPool,1,0);TARGET:IF(Tagged('HUMANOID')):RestoreResource(SELF, Vamp_BloodPool,2,0);TARGET:IF((not Dead() and not Tagged('REALLY_GALE') and not (Tagged('REALLY_KARLACH') and not Tagged('KARLACH_CAN_TOUCH')))):RegainHitPoints(SELF, 1d4);TARGET:IF((Dead() or Tagged('REALLY_GALE'))):ApplyStatus(SELF, POISONED, 100, 3); TARGET:IF((Tagged('REALLY_KARLACH') and not Tagged('KARLACH_CAN_TOUCH') and not Dead())):ApplyStatus(SELF, BURNING, 100, 3);"
data "TargetConditions" "not Self() and not Item() and not Tagged('UNDEAD') and not Tagged('PLANT') and not Tagged('ELEMENTAL') and not Tagged('CONSTRUCT') and not Tagged('OOZE') and not HasStatus('SG_Petrified',context.Target) and (HasStatus('SG_Stunned',context.Target) or HasStatus('SG_Unconscious',context.Target) or HasStatus('SG_Prone',context.Target) or HasStatus('SG_Sleeping',context.Target) or HasStatus('HIDEOUS_LAUGHTER',context.Target) or HasStatus('SG_Charmed',context.Target) or HasStatus('SG_Incapacitated',context.Target) or HasStatus('SG_Restrained',context.Target))"
data "Description" "h09ae6612gf871g4d05g8e5eg55731e37adef"
data "ExtraDescription" ""
data "DescriptionParams" "RegainHitPoints(1d4);DealDamage(1d6+DexterityModifier,Piercing);DealDamage(1d4,Necrotic);"
data "TooltipDamageList" "DealDamage(1d6+DexterityModifier,Piercing);DealDamage(1d4,Necrotic);"
data "TooltipAttackSave" "MeleeSpellAttack"
data "TooltipStatusApply" ""
data "UseCosts" "ActionPoint:1"

// new entry "test_remove"
// type "SpellData"
// data "SpellType" "Target"
// using "Target_MainHandAttack"
// data "UseCosts" "Vamp_BloodPool:1"

//Blood Features

new entry "Shout_SelectBloodFeatures"
type "SpellData"
data "SpellType" "Shout"
data "ContainerSpells" "Shout_SelectAgonizing_Bite;"
data "TargetConditions" "Self()"
data "Icon" "GenericIcon_DamageType_Necrotic"
data "DisplayName" "h139819ecgf6b5g42bdg974fg71e23e9f4d51"
data "Description" "h139819ecgf6b5g42bdg974fg71e23e9f4d51"
data "ExtraDescription" ""
data "CastTextEvent" "Cast"
data "UseCosts" "Vamp_BloodFeature:1"
data "SpellAnimation" ""
data "VerbalIntent" "Utility"
data "SpellFlags" "IsLinkedSpellContainer"

//IF(not ClassLevelHigherOrEqualThan(4,'Druid')):ApplyStatus(WILDSHAPE_BADGER_PLAYER,100,-1);IF(ClassLevelHigherOrEqualThan(4,'Druid') and not ClassLevelHigherOrEqualThan(6,'Druid')):ApplyStatus(WILDSHAPE_BADGER_PLAYER_4,100,-1);IF(ClassLevelHigherOrEqualThan(6,'Druid') and not ClassLevelHigherOrEqualThan(8,'Druid')):ApplyStatus(WILDSHAPE_BADGER_PLAYER_6,100,-1);IF(ClassLevelHigherOrEqualThan(8,'Druid') and not ClassLevelHigherOrEqualThan(10,'Druid')):ApplyStatus(WILDSHAPE_BADGER_PLAYER_8,100,-1);IF(ClassLevelHigherOrEqualThan(10,'Druid')and not ClassLevelHigherOrEqualThan(12,'Druid')):ApplyStatus(WILDSHAPE_BADGER_PLAYER_10,100,-1);IF(ClassLevelHigherOrEqualThan(12,'Druid')):ApplyStatus(WILDSHAPE_BADGER_PLAYER_12,100,-1)

//No Req

new entry "Shout_SelectAgonizing_Bite"
type "SpellData"
data "SpellType" "Shout"
using "Shout_SelectBloodFeatures"
data "SpellContainerID" "Shout_SelectBloodFeatures"
data "ContainerSpells" ""
data "SpellProperties" "ApplyStatus(Vamp_StatusAgonizingBite,100,-1)"
data "Icon" "Skill_Druid_WildShape_GiantBadger"
data "DisplayName" ""
data "Description" ""
data "DescriptionParams" ""
data "PrepareSound" "Spell_Prepare_Buff_WildShape_L1to3"
data "PrepareLoopSound" "Spell_Loop_Buff_WildShape_L1to3"
data "CastSound" "Spell_Cast_Buff_WildShapeBadger_L1to3"
data "SpellAnimation" "f324c7b4-4fb8-4088-ae4a-02fa323a8701,,;,,;825a94f3-b675-402a-a275-adcc465f4f62,,;721abca5-2d52-4317-82a3-2a2e970a7a16,,;c5b317da-4fc3-4d59-a45e-2681592cf0ed,,;,,;ad2cf583-ad84-4165-8d04-9fea86af396e,,;,,;,,"
data "SpellFlags" ""
data "PrepareEffect" ""
data "CastEffect" ""

new entry "Vamp_Agonizing_Bite"
type "SpellData"
data "SpellType" "Target"
using "Vamp_Bite"
data "DisplayName" "hbfbaa147ge979g42a9g8083gf2db46f454b2"
data "SpellSuccess" "DealDamage(1d6+DexterityModifier, Piercing);DealDamage(1d4+CharismaModifier, Necrotic);ApplyStatus(Vamp_LIFE_DRAIN,100,-1);TARGET:IF(SizeEqualOrGreater(Size.Small) and not Tagged('HUMANOID')):RestoreResource(SELF, Vamp_BloodPool,1,0);TARGET:IF(Tagged('HUMANOID')):RestoreResource(SELF, Vamp_BloodPool,2,0);TARGET:IF((not Dead() and not Tagged('REALLY_GALE') and not (Tagged('REALLY_KARLACH') and not Tagged('KARLACH_CAN_TOUCH')))):RegainHitPoints(SELF, 1d4+CharismaModifier);TARGET:IF((Dead() or Tagged('REALLY_GALE'))):ApplyStatus(SELF, POISONED, 100, 3); TARGET:IF((Tagged('REALLY_KARLACH') and not Tagged('KARLACH_CAN_TOUCH') and not Dead())):ApplyStatus(SELF, BURNING, 100, 3);"
data "DescriptionParams" "RegainHitPoints(1d4+CharismaModifier);DealDamage(1d6+DexterityModifier,Piercing);DealDamage(1d4+CharismaModifier,Necrotic);"
data "TooltipDamageList" "DealDamage(1d6+DexterityModifier,Piercing);DealDamage(1d4+CharismaModifier,Necrotic);"

